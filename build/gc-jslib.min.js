/*! gc-jslib 2015-07-30 02:49 */
!function(a,b,c){"use strict";var d={FORWARDS:0,BACKWARDS:1,RANDOM:2},e=new b.Validator({validators:b.validatorDefinitions.Animation}),f="1.0.0",g={NORMAL:0,REVERSED:1,PINGPONG:2,LOOP:3,LOOP_REVERSED:4,LOOP_PINGPONG:5,LOOP_RANDOM:6},h=function(a,f){function h(a,d){var f={playMode:g.LOOP,offsetX:0,offsetY:0,marginX:0,marginY:0,nFrames:0,frameWidth:0,frameHeight:0,frameCenterX:0,frameCenterY:0,frameTime:0,frames:c,onFinish:c,onChangeDirection:c},h=b.util.extend(f,d);if(e.reset().enumerated("playMode",h.playMode,{enumerated:g}).intPositive("offsetX",h.offsetX).intPositive("offsetY",h.offsetY).intPositive("marginX",h.marginX).intPositive("marginY",h.marginY).int("nFrames",h.nFrames).intPositive("frameWidth",h.frameWidth).intPositive("frameHeight",h.frameHeight).int("frameCenterX",h.frameCenterX).int("frameCenterY",h.frameCenterY).intPositive("frameTime",h.frameTime).animationFrameArray("frames",h.frames,{optional:!0}).callback("onFinish",h.onFinish,{optional:!0}).callback("onChangeDirection",h.onChangeDirection,{optional:!0}),e.errors())throw new b.exception.WrongDataException(e.errors());h=e.valid(),i(a,h),this.setPlayMode(h.playMode,!0),h.onFinish?(b.util.isArray(h.onFinish)||(h.onFinish=[h.onFinish]),D=h.onFinish):D=[],h.onChangeDirection?(b.util.isArray(h.onChangeDirection)||(h.onChangeDirection=[h.onChangeDirection]),E=h.onChangeDirection):E=[]}function i(a,c){var d,e,f=c.offsetX,g=c.offsetY;if(r=a,u=0,s=[],c.frames)for(t=c.frames.length,d=0;t>d;d++)e={src:new b.TextureRegion(r,c.frames[d].x?c.frames[d].x:f,c.frames[d].y?c.frames[d].y:g,c.frames[d].width?c.frames[d].width:c.framesWidth,c.frames[d].height?c.frames[d].height:c.framesHeight),time:c.frames[d].time?c.frames[d].time:c.frameTime},e.src.centerX=c.frames[d].centerX?c.frames[d].centerX:c.frameCenterX,e.src.centerY=c.frames[d].centerY?c.frames[d].centerY:c.frameCenterY,s.push(e),u+=e.time,f+c.frameWidth>=r.width?(f=c.offsetX,g+=c.frameHeight+c.marginY):f+=c.frameWidth+c.marginX;else for(t=c.nFrames<=0?Math.floor(r.width/c.frameWidth):c.nFrames,d=0;t>d;d++)e={src:new b.TextureRegion(r,f,g,c.frameWidth,c.frameHeight),time:c.frameTime},e.src.centerX=c.frameCenterX,e.src.centerY=c.frameCenterY,s.push(e),u+=e.time,f+c.frameWidth>=r.width?(f=c.offsetX,g+=c.frameHeight+c.marginY):f+=c.frameWidth+c.marginX}function j(a){var b,c;for(b=0,c=a.length;c>b;b++)a[b]()}function k(){v===t-1?(C=!0,B=!1,j(D)):v++}function l(){0===v?(C=!0,B=!1,j(D)):v--}function m(){A===d.FORWARDS?v===t-1&&t>0?(A=d.BACKWARDS,v--):v++:0===v?(C=!0,B=!1,j(D)):v--}function n(){v=(v+1)%t}function o(){A===d.FORWARDS?v===t-1&&t>0?(A=d.BACKWARDS,v--):v++:0===v&&t>0?(A=d.FORWARDS,v++):v--}function p(){0===v?v=t-1:v--}function q(){v=F.nextInt(t)}var r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;this.setPlayMode=function(a,f){if(e.reset().enumerated("playMode",a,{enumerated:g}),e.errors())throw new b.exception.WrongSignatureException("playMode is not a valid gc.Animation.PlayMode");switch(z=a,f&&(C=!1,B=!0,x=0),a!==g.LOOP_RANDOM&&(F=c),a){case g.NORMAL:y=k,f&&(v=0,w=s[v],A=d.FORWARDS);break;case g.REVERSED:y=l,f&&(v=s.length-1,w=s[v],A=d.BACKWARDS);break;case g.PINGPONG:y=m,f&&(v=0,w=s[v],A=d.FORWARDS);break;case g.LOOP:y=n,f&&(v=0,w=s[v],A=d.FORWARDS);break;case g.LOOP_REVERSED:y=p,f&&(v=s.length-1,w=s[v],A=d.BACKWARDS);break;case g.LOOP_PINGPONG:y=o,f&&(v=0,w=s[v],A=d.FORWARDS);break;case g.LOOP_RANDOM:F=new b.RNG,y=q,f&&(v=F.nextInt(t),w=s[v],A=d.RANDOM)}return this},this.update=function(a){if(B){for(x+=a;x>w.time;)x-=w.time,y();w=s[v]}return this},this.getCurrentFrame=function(){return w.src},this.getFrame=function(a){if(a>=0&&t>a)return s[a];throw new b.exception.IndexOutOfBounds},this.isPlaying=function(){return B},this.isFinished=function(){return C},this.getTotalFrames=function(){return t},this.getTotalTime=function(){return u},this.onFinish=function(a){if(!b.util.isFunction(a))throw new b.exception.WrongSignatureException("callback is not a Function");return D.push(a),this},this.onChangeDirection=function(a){if(!b.util.isFunction(a))throw new b.exception.WrongSignatureException("callback is not a Function");E.push(a)},h.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.Animation=h,b.util.defineConstant(b.Animation,"VERSION",f),b.util.defineConstant(b.Animation,"PlayMode",g)}(window,window.gc),function(a,b,c){"use strict";function d(a){return a.setImageSmoothing=function(b){a.imageSmoothingEnabled!==c?a.imageSmoothingEnabled=b:a.webkitImageSmoothingEnabled!==c?a.webkitImageSmoothingEnabled=b:a.mozImageSmoothingEnabled!==c?a.mozImageSmoothingEnabled=b:a.msImageSmoothingEnabled!==c&&(a.msImageSmoothingEnabled=b)},a.draw=function(c,d,e,f,g,h,i,j,k){if(c instanceof b.TextureRegion)switch(arguments.length){case 3:a.drawImage(c.src,c.offsetX,c.offsetY,c.width,c.height,arguments[1]-c.centerX,arguments[2]-c.centerY,c.width,c.height);break;case 5:a.drawImage(c.src,c.offsetX,c.offsetY,c.width,c.height,arguments[1]-c.centerX*(arguments[3]/c.width),arguments[2]-c.centerY*(arguments[4]/c.height),arguments[3],arguments[4]);break;case 9:a.drawImage(c.src,c.offsetX+arguments[1],c.offsetY+arguments[2],Math.min(arguments[3],c.width-arguments[3]),Math.min(arguments[4],c.height-arguments[4]),arguments[5],arguments[6],arguments[7],arguments[8]),a.drawImage(frame.src,frame.offsetX,frame.offsetY,frame.width/2,frame.height,charX-2*frame.centerX,charY-2*frame.centerY,frame.width,2*frame.height);break;default:throw new b.exception.WrongSignatureException("Incorrect number of parameters")}else a.drawImage(img,d,e,f,g,h,i,j,k)},a}var e="1.0.0",f=function(a){function c(a){if(!a)throw new b.exception.WrongSignatureException("canvas is not specified");if(!a.getContext)throw new b.exception.NotImplementedException("canvas.getContext is not supported");e=a.getContext("2d")}var e;this.getContext=function(){return d(e)},c.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.Canvas2D=f,b.util.defineConstant(b.Canvas2D,"VERSION",e)}(window,window.gc),function(a,b,c){"use strict";var d="1.0.0",e={PENDING:"PENDING",RESOLVED:"RESOLVED",REJECTED:"REJECTED"},f=function(){function a(a){d=e.PENDING,g=[],h=[],i=[],j=[],k={def:c,done:c,fail:c,progress:c},b.util.isFunction(a)&&a.call(this,k)}var d,g,h,i,j,k,l;this.state=function(){return d},this.done=function(a){if(!b.util.isFunction(a))throw new b.exception.WrongSignatureException("callback is not a Function");return g.push(a),d===e.RESOLVED&&a.apply(null,l),this},this.fail=function(a){if(!b.util.isFunction(a))throw new b.exception.WrongSignatureException("callback is not a Function");return h.push(a),d===e.REJECTED&&a.apply(null,l),this},this.always=function(a){if(!b.util.isFunction(a))throw new b.exception.WrongSignatureException("callback is not a Function");return i.push(a),d!==e.PENDING&&a.apply(null,l),this},this.progress=function(a){if(!b.util.isFunction(a))throw new b.exception.WrongSignatureException("callback is not a Function");return j.push(a),this},this.then=function(a,c,d){if(a&&!b.util.isFunction(a))throw new b.exception.WrongSignatureException("done is not a Function");if(c&&!b.util.isFunction(c))throw new b.exception.WrongSignatureException("fail is not a Function");if(d&&!b.util.isFunction(d))throw new b.exception.WrongSignatureException("progress is not a Function");return k.def=new f(function(b){a&&(b.done=a),c&&(b.fail=c),d&&(b.progress=d)}),k.def.promise()},this.promise=function a(c){var a={state:this.state,done:this.done,fail:this.fail,always:this.always,progress:this.progress,then:this.then,promise:this.promise};return null!=c?b.util.extend(c,a):a},this.reset=function(){d=e.PENDING,k.def&&k.def.reset()},this.resolve=function(){var a,b;if(d!==e.PENDING)return this;for(d=e.RESOLVED,l=arguments,k.done&&(l=[k.done.apply(null,arguments)]),a=0,b=g.length;b>a;a++)g[a].apply(null,l);for(a=0,b=i.length;b>a;a++)i[a].apply(null,l);return k.def&&k.def.resolve.apply(null,l),this},this.reject=function(){var a,b;if(d!==e.PENDING)return this;for(d=e.REJECTED,l=arguments,k.fail&&(l=[k.fail.apply(null,arguments)]),a=0,b=h.length;b>a;a++)h[a].apply(null,l);for(a=0,b=i.length;b>a;a++)i[a].apply(null,l);return k.def&&k.def.reject.apply(null,l),this},this.notify=function(){var a,b,c=arguments;if(d!==e.PENDING)return this;for(k.progress&&(c=[k.progress.apply(null,arguments)]),a=0,b=j.length;b>a;a++)j[a].apply(null,c);return k.def&&k.def.notify.apply(null,c),this},a.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.Deferred=f,b.util.defineConstant(b.Deferred,"VERSION",d),b.util.defineConstant(b.Deferred,"State",e)}(window,window.gc),function(a,b,c){"use strict";var d=new b.Validator({validators:b.validatorDefinitions.Drawable}),e="#ccc",f=1,g="#f00",h=2,i="0.2.0",j=function(a,c,i,j,k,l,m){function n(a,c,e,f,g,h,i){if(o=a,p=new b.Size2(c||a.width,e||a.height),q=new b.Point2(f||0,g||0),r=new b.Point2(h||0,i||0),d.reset().intPositive("width",p.width).intPositive("height",p.height).intPositive("offsetX",q.x).intPositive("offsetY",q.y).int("centerX",r.x).int("centerY",r.y),d.errors())throw new b.exception.WrongSignatureException(d.errors())}var o,p,q,r;this.draw=function(a){switch(arguments.length){case 3:a.drawImage(o,q.x,q.y,p.width,p.height,arguments[1]-r.x,arguments[2]-r.y,p.width,p.height);break;case 5:a.drawImage(o,q.x,q.y,p.width,p.height,arguments[1]-r.x*(arguments[3]/p.width),arguments[2]-r.y*(arguments[4]/p.height),arguments[3],arguments[4]);break;case 9:a.drawImage(o,q.x+arguments[1],q.y+arguments[2],Math.min(arguments[3],p.width-arguments[1]),Math.min(arguments[4],p/height-arguments[2]),arguments[5]-r.x*(arguments[7]/p.width),arguments[6]-r.y*(arguments[8]/p.height),arguments[7],arguments[8]);break;default:throw"Incorrect number of parameters"}return this},this.drawBounds=function(a){switch(a.strokeStyle=e,a.lineWidth=f,arguments.length){case 3:a.strokeRect(Math.round(arguments[1]-r.x)-f/2,Math.round(arguments[2]-r.y)-f/2,p.width+f,p.height+f);break;case 5:a.strokeRect(Math.round(arguments[1]-r.x*(arguments[3]/p.width))-f/2,Math.round(arguments[2]-r.y*(arguments[4]/p.height))-f/2,arguments[3],arguments[4]);break;case 9:a.strokeRect(Math.round(arguments[3]-r.x*(arguments[7]/p.width))-f/2,Math.round(arguments[4]-r.y*(arguments[8]/p.height))-f/2,arguments[7],arguments[8]);break;default:throw"Incorrect number of parameters"}return this},this.drawCenter=function(a){switch(a.fillStyle=g,arguments.length){case 3:case 5:a.fillRect(arguments[1]-h,arguments[2]-h,2*h+1,2*h+1);break;case 9:a.fillRect(arguments[5]-h,arguments[6]-h,2*h+1,2*h+1);break;default:throw"Incorrect number of parameters"}return this},this.setSize=function(a,b){return p.set(a,b),this},this.getSize=function(){return p.get()},this.setOffset=function(a,b){return q.set(a,b),this},this.getOffset=function(){return q.get()},this.setCenter=function(){switch(arguments.length){case 1:if(b.util.isPlainObject(arguments[0])){r.set(arguments[0]);break}switch(arguments[0]){case b.Align.BOTTOM:r.set(p.width/2,p.height);break;case b.Align.BOTTOM_LEFT:r.set(0,p.height);break;case b.Align.BOTTOM_RIGHT:r.set(p.width,p.height);break;case b.Align.CENTER:r.set(p.width/2,p.height/2);break;case b.Align.LEFT:r.set(0,p.height/2);break;case b.Align.RIGHT:r.set(p.width,p.height/2);break;case b.Align.TOP:r.set(p.width/2,0);break;case b.Align.TOP_LEFT:r.set(0,0);break;case b.Align.TOP_RIGHT:r.set(p.width,0);break;default:throw b.exception.WrongDataException("align is not a value of gc.Align")}break;case 2:r.set(arguments[0],arguments[1]);break;default:throw new b.exception.WrongSignatureException("Incorrect number of parameters")}return this},this.getCenter=function(){return r.get()},this.drawable=function a(c){var a={draw:this.draw,drawBounds:this.drawBounds,drawCenter:this.drawCenter,setOffset:this.setOffset,getOffset:this.getOffset,setSize:this.setSize,getSize:this.getSize,setCenter:this.setCenter,getCenter:this.getCenter,drawable:this.drawable};return null!=c?b.util.extend(c,a):a},n.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.Drawable=j,b.util.defineConstant(b.Drawable,"VERSION",i)}(window,window.gc),function(a,b,c,d){"use strict";var e=new c.Validator({validators:c.validatorDefinitions.FPS}),f="1.0.0",g=function(a){function b(a){var b={updateDelay:1e3,update:d,font:"12px Arial",fillStyle:"#FFFF00",x:0,y:0,align:c.Align.TOP_LEFT};if(g=c.util.extend(b,a),e.reset().intPositive("updateDelay",g.updateDelay).callback("update",g.update,{optional:!0}).str("font",g.font).str("fillStyle",g.fillStyle).int("x",g.x).int("y",g.y).enumerated("align",g.align,{enumerated:c.Align}),e.errors())throw new c.exception.WrongDataException(e.errors());g=e.valid()}var f,g,h=0,i=0;this.option=function(a,b){switch(arguments.length){case 1:return g[a];case 2:return g[a]=b,this;default:throw"Wrong Parameters"}},this.update=function(a){return i++,a>h&&(h+=g.updateDelay,f=i,i=0,g.update&&g.update(f)),this},this.getFPS=function(){return f},this.draw=function(a){var b,d,e,h=a.fillStyle,i=a.font;return a.font=g.font,a.fillStyle=g.fillStyle,b=f+" fps",d=a.measureText(b),e=c.util.alignPosition(g.align,d.width,10,g.x,g.y,0,10),a.fillText(b,e.x,e.y),a.font=i,a.fillStyle=h,this},b.apply(this,arguments)};a.gc||(a.gc={},c=a.gc),c.FPS=g,c.util.defineConstant(c.FPS,"VERSION",f)}(window,document,window.gc),function(a,b,c){"use strict";var d="1.0.0",e=function(){function a(){this.set.apply(this,arguments)}this.set=function(){switch(arguments.length){case 0:this.x=0,this.y=0;break;case 1:this.x=arguments[0].x,this.y=arguments[0].y;break;case 2:this.x=arguments[0],this.y=arguments[1];break;default:throw new b.exception.WrongSignatureException("Incorrect number of parameters")}return this},this.get=function(){return{x:this.x,y:this.y}},this.add=function(){switch(arguments.length){case 1:this.x+=arguments[0].x,this.y+=arguments[0].y;break;case 2:this.x+=arguments[0],this.y+=arguments[1];break;default:throw new b.exception.WrongSignatureException("Incorrect number of parameters")}return this},this.sub=function(){switch(arguments.length){case 1:this.x-=arguments[0].x,this.y-=arguments[0].y;break;case 2:this.x-=arguments[0],this.y-=arguments[1];break;default:throw new b.exception.WrongSignatureException("Incorrect number of parameters")}return this},this.scl=function(a,c){switch(arguments.length){case 1:b.util.isNumber(a)?(this.x*=a,this.y*=a):(this.x*=a.x,this.y*=a.y);break;case 2:this.x*=a,this.y*=c;break;default:throw new b.exception.WrongSignatureException("Incorrect number of parameters")}return this},this.dst=function(){var a,c;switch(arguments.length){case 1:a=this.x-arguments[0].x,c=this.y-arguments[0].y;break;case 2:a=this.x-arguments[0],c=this.y-arguments[1];break;default:throw new b.exception.WrongSignatureException("Incorrect number of parameters")}return Math.sqrt(a*a+c*c)},this.dst2=function(){var a,c;switch(arguments.length){case 1:a=this.x-arguments[0].x,c=this.y-arguments[0].y;break;case 2:a=this.x-arguments[0],c=this.y-arguments[1];break;default:throw new b.exception.WrongSignatureException("Incorrect number of parameters")}return a*a+c*c},this.angleRad=function(){var a,c,d;switch(arguments.length){case 0:a=this.x,c=this.y;break;case 1:a=this.x-arguments[0].x,c=this.y-arguments[0].y;break;case 2:a=this.x-arguments[0],c=this.y-arguments[1];break;default:throw new b.exception.WrongSignatureException("Incorrect number of parameters")}return d=Math.atan2(c,a),0>d?2*Math.PI+d:d},this.angle=function(){return 180*this.angleRad.apply(this,arguments)/Math.PI},a.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.Point2=e,b.util.defineConstant(b.Point2,"VERSION",d)}(window,window.gc),function(a,b,c){"use strict";var d=2147483648,e=1103515245,f=12345,g="1.0.0",h=function(a){function b(a){c="undefined"==typeof a?parseInt(Math.random()*(d-1)):parseInt(a),g=c,h=0}var c,g,h;this.nextInt=function(){switch(g=(e*g+f)%d,h++,arguments.length){case 0:return g;case 1:return Math.floor(g/d*arguments[0]);case 2:return Math.floor(g/d*arguments[1])+arguments[0];default:throw"Wrong number of arguments"}},this.nextFloat=function(a,b){switch(g=(e*g+f)%d,h++,arguments.length){case 0:return g/(d-1);case 1:return g*b;case 2:return g*(b-a)+a;default:throw"Wrong number of arguments"}},this.reset=function(){return b(c),this},this.getSeed=function(){return c},this.setSeed=function(a){return b(a),this},this.getState=function(){return h},this.setState=function(a){var b;for(h>a?this.reset():a-=h,b=0;a>b;b++)this.nextInt();return this},b.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.RNG=h,b.util.defineConstant(b.RNG,"VERSION",g)}(window,window.gc),function(a,b,c){"use strict";var d=new b.Validator({validators:b.validatorDefinitions.ResourceManager}),e="1.0.0",f={IMAGE:0,FONT:1,AUDIO:2},g=function(){function a(){m={},n={},o={},p=0,q=0,r=new b.Deferred,r.promise(this)}function e(a,b){r.notify(q/p,a,b),q===p&&r.resolve(q/p,a,b)}function g(a,b){b.tmp=new Image,b.tmp.onload=function(){q+=b.size,b.rsc=b.tmp,delete b.tmp,e(a,f.IMAGE)},b.tmp.src=b.src}function h(a,b){b.tmp=new Audio,b.tmp.oncanplaythrough=function(){q+=b.size,b.rsc=b.tmp,delete b.tmp,e(a,f.AUDIO)},b.tmp.src=b.src}function i(a,c,d){var g=new b.XHR(c.src);g.done(function(){q+=c.size,c.rsc=!0,delete c.tmp,e(a,f.FONT)}),c.tmp=!0}function j(a,b){var c,d;for(c in b)a[c]&&(p-=a[c].size,q-=a[c].size),d=b[c].size||1,a[c]={size:d,src:b[c].src},p+=a[c].size}function k(a,b){var c;for(c in a)a[c].rsc||a[c].tmp||b(c,a[c])}function l(a){if(d.reset().resourceDefinitionObject("data",a),d.errors())throw new b.exception.WrongDataException(d.errors())}var m,n,o,p,q,r;this.loadImages=function(a){return l(a),r.reset(),j(m,a),k(m,g),this},this.loadFonts=function(a){return l(a),r.reset(),j(n,a),k(n,i,f.FONT),this},this.loadAudios=function(a){return l(a),r.reset(),j(o,a),k(o,h),this},this.load=function(a){if(!b.util.isPlainObject(a))throw b.exception.WrongSignatureException("data is not an Object");return r.reset(),a[f.IMAGE]&&j(m,a[f.IMAGE]),a[f.FONT]&&j(n,a[f.FONT]),a[f.AUDIO]&&j(o,a[f.AUDIO]),a[f.IMAGE]&&k(m,g),a[f.FONT]&&k(n,_loadFont),a[f.AUDIO]&&k(o,h),this},this.getImage=function(a){return m[a]&&m[a].rsc?m[a].rsc:c},this.getAudio=function(a){return _audio[a]&&_audio[a].rsc?_audio[a].rsc:c},a.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.ResourceManager=g,b.util.defineConstant(b.ResourceManager,"VERSION",e),b.util.defineConstant(b.ResourceManager,"ResourceType",f)}(window,window.gc),function(a,b,c){"use strict";var d="1.0.0",e=function(){function a(){this.set.apply(this,arguments)}this.set=function(){switch(arguments.length){case 0:this.width=0,this.height=0;break;case 1:this.width=arguments[0].width,this.height=arguments[0].height;break;case 2:this.width=arguments[0],this.height=arguments[1];break;default:throw new b.exception.WrongSignatureException("Incorrect number of parameters")}return this},this.get=function(){return{width:this.width,height:this.height}},this.add=function(){switch(arguments.length){case 1:this.width+=arguments[0].width,this.height+=arguments[0].height;break;case 2:this.width+=arguments[0],this.height+=arguments[1];break;default:throw new b.exception.WrongSignatureException("Number of parameters incorrect")}return this},this.sub=function(a,c){switch(arguments.length){case 1:this.width-=arguments[0].width,this.height-=arguments[0].height;break;case 2:this.width-=arguments[0],this.height-=arguments[1];break;default:throw new b.exception.WrongSignatureException("Number of parameters incorrect")}return this},a.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.Size2=e,b.util.defineConstant(b.Size2,"VERSION",d)}(window,window.gc),function(a,b,c){"use strict";function d(a){var b;m="\\"|a,k=c;for(b in o)h(b,o[b])}function e(){return m}function f(a){n="[ 	]"|a}function g(){return n}function h(a,b){var c=k?k.source:"";o[a]=b,c=(k?k.source+"|(":"(")+("\\"===m?m+m:m)+a+")",k=new RegExp(c,"g")}function i(a,b){var c,d,e,f,g,h={};if(b||(b="Hgé”"),g=a+":"+c,p[g])return p[g];c=document.createElement("span"),c.innerText=b,c.style.font=a,d=document.createElement("div"),d.style.display="inline-block",d.style.width="1px",d.style.height="0",e=document.createElement("div"),e.appendChild(c),e.appendChild(d),f=document.body,f.appendChild(e);try{d.style.verticalAlign="baseline",h.ascent=d.offsetTop-c.offsetTop,d.style.verticalAlign="bottom",h.height=d.offsetTop-c.offsetTop,h.descent=h.height-h.ascent}finally{e.parentNode.removeChild(e)}return p[g]=h,h}function j(a){q=b.util.extend(!0,q,a)}var k,l=new b.Validator({validators:b.validatorDefinitions.Text}),m="\\",n="[ 	]",o={},p={},q={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,width:0,height:0,limit:null,delay:0,style:{font:"10px sans-serif",fill:!0,fillStyle:"#000000",stroke:!1,strokeStyle:"#000000",lineMargin:0}},r="0.2.0",s=function(a,d,e){function f(a,c,d){var e,f=!d;if(w=b.util.extend({},q,c),l.reset().str("text",a).int("marginTop",w.marginTop).int("marginRight",w.marginRight).int("marginBottom",w.marginBottom).int("marginLeft",w.marginLeft).intPositive("width",w.width).intPositive("height",w.height),l.errors())throw new b.exception.WrongDataException(l.errors());w=l.valid(w),f&&(d=document.createElement("canvas")),u=new b.Canvas2D(d).getContext(),s=a,t=j(a),e=this.getFullTextSize(!0),f&&(d.width=w.width||e.width,w.width=d.width,d.height=w.height||e.height,w.height=d.height),w.marginLeft+w.width+w.marginRight>d.width&&(w.width=d.width-w.marginLeft),w.marginTop+w.height+w.marginBottom>d.height&&(w.height=d.height-w.marginTop),g(),p(),r=new b.Drawable(d),r.drawable(this)}function g(){x={fill:!0,stroke:!1,lineMargin:w.style.lineMargin,line:0,token:0,character:0,textMetrics:i(w.style.font),pause:0},u.font=w.style.font,u.fillStyle=w.style.fillStyle,u.strokeStyle=w.style.strokeStyle,u.textBaseline="bottom"}function h(a){var b=o[a];b.font&&(u.font=b.font,x.textMetrics=i(b.font)),b.fillStyle&&(u.fillStyle=b.fillStyle),b.strokeStyle&&(u.strokeStyle=b.strokeStyle),b.lineMargin&&(x.lineMargin=b.lineMargin),typeof b.fill!==c&&(x.fill=b.fill),typeof b.stroke!==c&&(x.stroke=b.stroke),b.pause&&(x.pause+=b.pause)}function j(a){function b(a){var b,c=[],d=0;if(k)for(;b=k.exec(a);)c.push({txt:a.substring(d,b.index),action:b[0].substring(m.length)}),d=b.index+b[0].length;return d<a.length&&c.push({txt:a.substring(d)}),c}function c(a,b,c,d,e,f){for(var g,h=Math.floor((a.length-1)*(c/b)),i=a.substring(0,h),j=u.measureText(i).width,k=!0;k;)if(c>j)for(g=i+a[h];;){if(j=u.measureText(g).width,j>c){e.splice(d+1,0,i),f.splice(d,0,""),k=!1;break}i=g,g+=a[h++]}else for(;;){if(i=i.substring(0,h-1),j=u.measureText(i).width,c>j){e.splice(d+1,0,i),f.splice(d,0,""),k=!1;break}h--}e.splice(d+2,0,a.substring(i.length)),f.splice(d,0,f[d])}function d(b,d){for(var f,g,h,i,j=new RegExp(n,"g"),k=b.split(j),m=[],y="",z=o;i=j.exec(b);)m.push(i[0]);for(i=0;i<k.length;i++)f=k[i],h=m[i]?m[i]:"",g=u.measureText(f).width,g>s?c(f,g,s,i,k,m):r>z+g?(y+=f+h,z+=g+u.measureText(h).width):(l={x:o,txt:y},q[e].push(l),a.splice(e+1,0,b.substring(y.length)),t+=p,q[e].y=t,q.push([]),e++,t+=x.lineMargin,v.width=Math.max(v.width,z-w.marginLeft),y=f+h,o=w.marginLeft,z=o+g+u.measureText(h).width);l={x:o,txt:y,action:d},q[e].push(l),o=z}var e,f,i,j,l,o,p,q=[],r=0!=w.width?w.width-w.marginRight:1/0,s=r-w.marginLeft,t=w.marginTop;for(a=a.split("\n"),g(),p=x.textMetrics.height,v={width:0,height:0},e=0;e<a.length;e++){for(q[e]=[],o=w.marginLeft,i=b(a[e]),f=0,j=i.length;j>f;f++)d(i[f].txt,i[f].action),i[f].action&&(h(i[f].action),p=Math.max(p,x.textMetrics.height));t+=p,q[e].y=t,v.width=Math.max(v.width,o-w.marginLeft)}return v.height=t-w.marginTop,q}function p(){var a,b,c;for(g(),x.line=0,a=t.length;x.line<a;x.line++)for(x.token=0,b=t[x.line].length;x.token<b;x.token++)c=t[x.line][x.token],x.fill&&u.fillText(c.txt,c.x,t[x.line].y),x.stroke&&u.strokeText(c.txt,c.x,t[x.line].y),c.action&&h(c.action)}var r,s,t,u,v,w,x;this.getFullTextSize=function(a){var b=v.width,c=v.height;return a&&(b+=w.marginLeft+w.marginRight,c+=w.marginTop+w.marginBottom),{width:Math.ceil(b),height:Math.ceil(c)}},this.getOption=function(a){if("undefined"==typeof w[a])throw new b.exception.WrongDataException("Option "+a+" is not defined");return w[a]},f.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.Text=s,b.util.defineConstant(b.Text,"VERSION",r),b.Text.setEscapeChar=d,b.Text.getEscapeChar=e,b.Text.setWordSplitRegExp=f,b.Text.getWordSplitRegExp=g,b.Text.registerAction=h,b.Text.getTextMetrics=i,b.Text.setDefaultOptions=j}(window,window.gc),function(a,b,c){"use strict";var d="1.0.0",e=function(a,b,c,d,e){this.src=a,this.offsetX=b,this.offsetY=c,this.width=d,this.height=e,this.centerX=0,this.centerY=0,this.draw=function(a){switch(arguments.length){case 3:a.drawImage(this.src,this.offsetX,this.offsetY,this.width,this.height,arguments[1]-this.centerX,arguments[2]-this.centerY,this.width,this.height);break;case 5:a.drawImage(this.src,this.offsetX,this.offsetY,this.width,this.height,arguments[1]-this.centerX*(arguments[3]/this.width),arguments[2]-this.centerY*(arguments[4]/this.height),arguments[3],arguments[4]);break;case 9:a.drawImage(this.src,this.offsetX+arguments[1],this.offsetY+arguments[2],Math.min(arguments[3],this.width-arguments[1]),Math.min(arguments[4],this.height-arguments[2]),arguments[5]-this.centerX*(arguments[7]/this.width),arguments[6]-this.centerY*(arguments[8]/this.height),arguments[7],arguments[8]);break;default:throw"Incorrect number of parameters"}}};a.gc||(a.gc={},b=a.gc),b.TextureRegion=e,b.util.defineConstant(b.TextureRegion,"VERSION",d)}(window,window.gc),function(a,b,c){"use strict";var d="1.0.0",e=function(a){function d(a){var c,d={strict:!1,canonize:!0,returnNullOnErrors:!0,optional:!1,validators:{},allowOverwriteValidators:!1};if(i=b.util.extend(d,a),j={},k={},b.util.isPlainObject(i.validators))for(c in i.validators)this.addValidator(c,i.validators[c])}function e(a,b,c,d){d?j[a]=c:k[a]=b}function f(a,d,f,g){var h,j=b.util.extend({},i,g);h=f===c&&j.optional?h={data:c,valid:!0}:a(f,j),e(d,f,j.canonize?h.data:f,h.valid)}function g(a,d,f,g){var h,j,k,l=!0,m=b.util.extend({},i,g);if(b.util.isArray(f))for(h=f.slice(),k=0;k<h.length;k++){if(j=a(h[k],m),!j.valid){l=!1;break}m.canonize&&(h[k]=j.data)}else l=f===c&&m.optional?!0:!1;e(d,f,h,l)}function h(a,d,f,g){var h,j,k,l=!0,m=b.util.extend({},i,g);if(b.util.isPlainObject(f)){h=b.util.extend(!0,{},f);for(k in h){if(j=a(h[k],m),!j.valid){l=!1;break}m.canonize&&(h[k]=j.data)}}else l=f===c&&m.optional?!0:!1;e(d,f,h,l)}var i,j,k;this.errors=function(){return b.util.isEmptyObject(k)?null:k},this.valid=function a(c){var d,a=null;if("undefined"!=typeof c&&!b.util.isPlainObject(c))throw new b.exception.WrongParametersException("base needs to be a plain object if specified");if(!i.returnNullOnErrors||b.util.isEmptyObject(k))if(c){for(d in j)c[d]=j[d];a=c}else a=j;return a},this.reset=function(){return this.resetErrors(),this.resetValid(),this},this.resetErrors=function(){return k={},this},this.resetValid=function(){return j={},this},this.addValidator=function(a,c){if(!b.util.isString(a))throw new b.exception.WrongSignatureException("name is not a string");if(!b.util.isFunction(c))throw new b.exception.WrongSignatureException("validator is not a function");if(!i.allowOverwriteValidators){if(this[a])throw new b.exception.WrongDataException("The method "+a+" is already defined");if(this[a+"Array"])throw new b.exception.WrongDataException("The method "+a+"Array is already defined");if(this[a+"Object"])throw new b.exception.WrongDataException("The method "+a+"Object is already defined")}return this[a]=function(a,b,d){return f(c,a,b,d),this},this[a+"Array"]=function(a,b,d){return g(c,a,b,d),this},this[a+"Object"]=function(a,b,d){return h(c,a,b,d),this},this},d.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.Validator=e,b.util.defineConstant(b.Validator,"VERSION",d)}(window,window.gc),function(a,b,c){"use strict";var d=new b.Validator({validators:b.validatorDefinitions.XHR}),e="0.1.0",f={GET:"GET",POST:"POST",HEAD:"HEAD",PUT:"PUT",DELETE:"DELETE"},g=function(a,c){function e(a,c){var e={data:{},method:f.GET,timeout:3e4,async:!0};if(i=b.util.extend(e,c),!i.url)throw new b.exception.WrongDataException("URL is not specified");if(d.reset().enumerated("method",i.method,{enumerated:f}).bool("async",i.async).intPositive("timeout",i.timeout),d.errors())throw new b.exception.WrongDataException(d.errors());i=d.valid(),i.url=a,j=new b.Deferred,j.promise(this),g()}function g(){h=new XMLHttpRequest,h.open(i.method,i.url,i.async),i.async&&i.timeout>0?h.timeout=i.timeout:h.timeout=0,h.onload=function(a){0===h.status||h.status>=200&&h.status<400?j.resolve(h,a):h.status>=100&&h.status<200?j.notify(h,a):j.reject(h,a)},h.onerror=function(a){j.reject(a)},h.ontimeout=function(a){};try{h.send()}catch(a){}}var h,i,j;e.apply(this,arguments)};a.gc||(a.gc={},b=a.gc),b.XHR=g,b.util.defineConstant(b.XHR,"VERSION",e),b.util.defineConstant(b.XHR,"Method",f)}(window,window.gc),function(a,b,c){"use strict";var d={NotImplementedException:function(a){this.data=a,this.toString=function(){return"Exception: Not Implemented."}},IndexOutOfBoundsException:function(a){this.data=a,this.toString=function(){return"Exception: Index Out Of Bounds."}},WrongSignatureException:function(a){this.data=a,this.toString=function(){return"Exception: Wrong number or type of parameters."}},WrongDataException:function(a){this.data=a,this.toString=function(){return"Exception: Wrong data."}}};a.gc||(a.gc={},b=a.gc),b.exception=d}(window,window.gc),function(a,b,c){"use strict";if("performance"in a==0&&(a.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in a.performance==0){var d=Date.now();performance.timing&&performance.timing.navigationStart&&(d=performance.timing.navigationStart),a.performance.now=function(){return Date.now()-d}}a.requestAnimationFrame||(a.requestAnimationFrame=a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(function(){b(a.performance.now())},1e3/60)})}(window,document),function(a){"use strict";function b(){}function c(b,c){var d=a.createEvent("Event");d.initEvent(b,!0,!1),c.dispatchEvent(d)}function d(b){a[j.enabled]=a[f.enabled],a[j.element]=a[f.element],c(j.events.change,b.target)}function e(a){c(j.events.error,a.target)}var f,g,h=!0,i={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},j=i.w3;for(g in i)if(i[g].enabled in a){f=i[g];break}return h&&(j.enabled in a||(f?(a.addEventListener(f.events.change,d,!1),a.addEventListener(f.events.error,e,!1),a[j.enabled]=a[f.enabled],a[j.element]=a[f.element],a[j.exit]=a[f.exit],Element.prototype[j.request]=function(){return this[f.request].apply(this,arguments)}):(Element.prototype[j.enabled]=b,Element.prototype[j.element]=b,Element.prototype[j.request]=b,Element.prototype[j.exit]=b))),f}(document),function(a,b,c){"use strict";var d={BOTTOM:0,BOTTOM_LEFT:1,BOTTOM_RIGHT:2,CENTER:3,LEFT:4,RIGHT:5,TOP:6,TOP_LEFT:7,TOP_RIGHT:8},e={};e.defineConstant=function(a,b,c){"object"==typeof c&&Object.freeze(c),Object.defineProperty(a,b,{configurable:!1,enumerable:!0,value:c,writable:!1})},e.compareVersions=function(a,c){function d(a,c){if(a=parseInt(a),c=parseInt(c),isNaN(a)||isNaN(c))throw new b.exception.WrongSignatureException("Parameters are not Number");return a-c}if("string"!=typeof a||"string"!=typeof c)throw new b.exception.WrongSignatureException("Version is not a String");a=a.split("."),c=c.split(".");var e,f,g=Math.min(a.length,c.length);for(e=0;g>e;e++)if(f=d(a[e],c[e]),
0!==f)return f;return d(a.length,c.length)},e.isFunction=function(a){return"function"==typeof a},e.isNumber=function(a){return!isNaN(parseFloat(n))&&isFinite(n)},e.isString=function(a){return"string"==typeof a||a instanceof String},e.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(someVar)},e.isPlainObject=function(a){return a!==c&&"[object Object]"===Object.prototype.toString.call(a)},e.isEmptyObject=function(a){return e.isPlainObject(a)?0===Object.keys(a).length:!1},e.forEach=function(a,c){var d,f;if("object"!=typeof a)throw b.exception.WrongSignatureException("objis not an Object or an Array");if(e.isArray(a))for(f=a.length,d=0;f>d&&c(a[d],d)!==!0;d++);else for(d in a)if(c(a[d],d)===!0)break},e.getSize=function(a){if("object"!=typeof a)throw b.exception.WrongSignatureException("obj needs to be an object or an array");return e.isArray(a)?a.length:Object.keys(a).length},e.extend=function a(){var b;if(arguments[0]===!0){b=arguments[1]||{};for(var c=2;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)d.hasOwnProperty(e)&&("object"==typeof d[e]?a(!0,b[e],d[e]):b[e]=d[e])}}else{b=arguments[0]||{};for(var c=1;c<arguments.length;c++)if(arguments[c])for(var e in arguments[c])arguments[c].hasOwnProperty(e)&&(b[e]=arguments[c][e])}return b},e.alignPosition=function(a,c,e,f,g,h,i){if(arguments.length<3)throw new b.exception.WrongSignatureException("wrong number of parameters");switch(f=f||0,g=g||0,h=h||0,i=i||0,a){case d.BOTTOM:f+=c/2,g+=e-i;break;case d.BOTTOM_LEFT:f+=c+h,g+=e-i;break;case d.BOTTOM_RIGHT:f+=-c+h,g+=e-i;break;case d.CENTER:f+=c/2+h,g+=e/2-h;break;case d.LEFT:f+=c+h,g+=e/2-h;break;case d.RIGHT:f+=-c+h,g+=e/2-h;break;case d.TOP:f+=c/2+h,g+=i;break;case d.TOP_LEFT:f+=c+h,g+=i;break;case d.TOP_RIGHT:f+=-c+h,g+=i;break;default:throw b.exception.WrongDataException("align is not a value of gc.Align")}return{x:f,y:g}},a.gc||(a.gc={},b=a.gc),b.util=e,b.util.defineConstant(b,"Align",d)}(window,window.gc),function(a,b){"use strict";function c(a,b){var c=!!a,d=!b.strict||"boolean"==typeof a;return{data:c,valid:d}}function d(b,c){var d=parseInt(b),e=!isNaN(d)&&(!c.strict||a.util.isNumber(b));return{data:d,valid:e}}function e(b,c){var d=parseInt(b),e=!isNaN(d)&&(!c.strict||a.util.isNumber(b))&&b>=0;return{data:d,valid:e}}function f(b,c){var d=parseFloat(b),e=!isNaN(d)&&(!c.strict||a.util.isNumber(b));return{data:d,valid:e}}function g(b,c){var d=parseFloat(b),e=!isNaN(d)&&(!c.strict||a.util.isNumber(b))&&b>=0;return{data:d,valid:e}}function h(b,c){var d=String(b),e=null!=b&&(!c.strict||a.util.isString(b));return{data:d,valid:e}}function i(b,c){var d=String(b),e=null!=b&&(!c.strict||a.util.isString(b))&&b.length>0;return{data:d,valid:e}}function j(b,c){return{data:b,valid:a.util.isFunction(b)}}function k(b,c){if(!c||!a.util.isPlainObject(c.enumerated))throw new P.exceptions.WrongParametersException("options.enumerated is not an Object");var d,e=null,f=!1;for(d in c.enumerated)if(!c.strict&&b==c.enumerated[d]||c.strict&&b===c.enumerated[d]){e=c.enumerated[d],f=!0;break}return{data:e,valid:f}}function l(b,c){var d=null,e=!1;return a.util.isPlainObject(b)&&(o.reset().intPositive("x",b.x,{optional:!0}).intPositive("y",b.y,{optional:!0}).intPositive("width",b.width,{optional:!0}).intPositive("height",b.height,{optional:!0}).intPositive("centerX",b.centerX,{optional:!0}).intPositive("centerY",b.centerY,{optional:!0}).intPositive("time",b.time,{optional:!0}),e=!o.errors(),d=o.valid()),{data:d,valid:e}}function m(b,c){var d=null,e=!1;return a.util.isPlainObject(b)&&(o.reset().strNotEmpty("src",b.src).intPositive("size",b.size,{optional:!0}),e=!o.errors(),d=o.valid()),{data:d,valid:e}}var n={bool:c,int:d,intPositive:e,float:f,floatPositive:g,str:h,strNotEmpty:i,callback:j,enumerated:k};a.validatorDefinitions={Animation:a.util.extend({animationFrame:l},n),FPS:n,ResourceManager:a.util.extend({resourceDefinition:m}),XHR:n,Text:n,Drawable:n};var o=new a.Validator({validators:n})}(window.gc);
//# sourceMappingURL=gc-jslib.min.js.map